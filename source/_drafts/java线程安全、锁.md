---
title: java线程安全、锁
categories:
  - null
date: 2023-05-22 15:31:44
tags:
---

hello world

---

[toc]

### 线程、进程

##### 通俗解释：

一群人去饮水机接水。

两台饮水机，就是**多进程**。

一台饮水机有两队人轮流接水，就是**多线程**。

进程>线程。

---

##### 详细解释：

每个进程都有独立的内存空间，比如qq.exe就是一个进程。

在进程里，由线程来执行任务。

一个进程里的所有线程，共享**堆**和**方法区资源**，

但是每个线程都有自己的**程序计数器**、**虚拟机栈**和**本地方法栈**。

##### 区别

- 根本区别：进程是**操作系统**资源分配的基本单位，而线程是**cpu处理器**任务调度和执行的基本单位
- 资源开销：进程之间的切换>>线程之间的切换

### 线程安全问题的原因



### synchronized

java的关键字

jdk1.5以前性能拉跨，1.6优化之后就好一点

### 

### lock

java.util.concurrent包下的api

# 总结

### synchronized和lock的区别

| synchronized                                                 | lock                         |
| ------------------------------------------------------------ | ---------------------------- |
| 自动关锁，方便，但是不灵活                                   | 手动控制关锁，麻烦，但是灵活 |
| 性能略差20%左右，https://blog.csdn.net/xindoo/article/details/108185347 |                              |

